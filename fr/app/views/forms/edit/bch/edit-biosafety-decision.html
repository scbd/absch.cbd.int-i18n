<div ng-controller="editBiosafetyDecision">

	<div ng-include="'/app/views/forms/edit/edit_header.html'"></div>

	<div style="padding: 24px;background-color:#FFF;border-bottom:2px solid #ccc;"><span block-region activate="isLoading()" ng-if="isLoading()"></span><div class="registerpage-content">
	
				<workflow-arrow-buttons document="getCleanDocument()" languages="document.header.languages" hide-timer="false" tab="tab"
				 validation-report="validationReport" on-post-close="onPostClose()" on-error="onError(error, errorCode)"
				 on-post-publish="onPostPublishOrRequest(data)" on-pre-publish="onPrePublish()" on-pre-save-draft="onPreSaveDraft()"
				 on-post-save-draft="onPostSaveDraft(data)" on-post-request="onPostPublishOrRequest(data)" on-pre-request="onPreRequest()"
				 data-container="{{container}}" is-dialog="{{isDialog}}">
					<edit-form>
						<form class="editForm" name="editForm" style="margin-top:10px">
							<div ng-show="tab=='edit'" km-tab="edit">
								
								<section>
									<div class="well no-shadow bg-white">
									<legend>Informations g&eacute;n&eacute;rales</legend>
									<div class="row">
										<div class="col-xs-12" >
											<div class="km-control-group" name="languages" required caption="Veuillez s&eacute;lectionner la ou les langues dans lesquelles vous souhaitez soumettre ce fichier :">
												<div class="indent">
													<div km-form-languages required name="languages" ng-model="document.header.languages"></div>
												</div>
											</div>
										</div>
									</div>
										<div class="row">
											<div class="col-sm-12">
												<div class="km-control-group" name="government" required caption="Pays soumettant la d&eacute;cision ou la communication">
													<div afc-autocomplete required name="government" ng-disabled="userGovernment()" ng-model="document.government" source="options.countries"
														filter="genericFilter" mapping="genericMapping" selectbox="true" placeholder="Veuillez choisir un pays..."></div>
												</div>
											</div>
										</div>
	
										<div class="row">
											<div class="col-xs-12">
												<div class="km-control-group" name="authorities" caption="Autorit&eacute;(s) nationale(s) comp&eacute;tente(s) responsable(s) de la d&eacute;cision ou de la communication">											
													<div document-selector ng-model="document.authorities" question="authorities"
														government="document.government" schema="(authority)"></div>			
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-sm-12">
												<div class="km-control-group" required name="title" caption="Titre / num&eacute;ro de r&eacute;f&eacute;rence de la d&eacute;cision ou de la communication">
													<div km-textbox-ml name="title" required ng-model="document.title" locales="document.header.languages"></div>
												</div>
											</div>
										</div>
	
										<div class="row">
											<div class="col-sm-12">
												<div class="km-control-group" name="date" caption="Date de la d&eacute;cision">
													<div km-date placeholder="AAAA-MM-JJ" name="date" required ng-model="document.date"></div>
												</div>
											</div>
										</div>
	
										<div class="row">
											<div class="col-xs-12">
												<div class="km-control-group" name="takenPriorEntryIntoForce" required caption="La d&eacute;cision est-elle prise avant l&apos;entr&eacute;e en vigueur du Protocole?">
													<div km-yes-no required ng-model="document.takenPriorEntryIntoForce" locales="document.header.languages"></div>
												</div>
											</div>
										</div>
										
										<div class="row">
											<div class="col-xs-12">
												<div class="km-control-group" name="jurisdictions" caption="Juridiction(s)">
													<div class="help-info">Pr&eacute;cisez le territoire o&ugrave; la loi, le r&egrave;glement, la directive ou l&apos;accord s&apos;applique s&apos;il diff&egrave;re du nom du pays. Exemple&nbsp;: Pays&nbsp;: Danemark, comp&eacute;tence : «&nbsp;&Agrave; l&apos;exclusion des territoires des &Icirc;les F&eacute;ro&eacute; et du Groenland.&nbsp;»</div>
													<div km-select multiple name="jurisdictions" ng-model="document.jurisdictions" items="options.countries()"></div>
												</div>
											</div>
										</div>
										<div class="row" ng-if="document.jurisdictions && document.jurisdictions.length>0">
											<div class="col-xs-12">
												<div class="km-control-group" name="jurisdictionsDetails" caption="Jurisdiction(s) details">
													<div km-textbox-ml ng-model="document.jurisdictionsDetails" rows="1" locales="document.header.languages" placeholder="jurisdiction details"></div>
												</div>
											</div>
										</div>
	
										<div class="row">
											<div class="col-xs-12">
												<div class="km-control-group" name="isAmendment" required caption="S&apos;agit-il d&apos;un amendement &agrave; une d&eacute;cision / communication ant&eacute;rieure?">
													<div km-yes-no required ng-model="document.isAmendment" locales="document.header.languages"></div>
												</div>
											</div>
										</div>
	
										<div class="row" ng-if="document.isAmendment">
											<div class="col-xs-12">
												<div class="km-control-group" name="amendedDecision" caption="Indicate the BCH decision amended" required>											
													<div document-selector ng-model="document.amendedDecisions" question="amendedDecision"
														government="document.government" schema="(biosafetyDecision)"></div>			
												</div>
											</div>
											<div class="col-xs-12">
												<div class="km-control-group" required name="amendmentReason" caption="Pr&eacute;cisez les raisons de l&apos;amendement">
													<div km-textbox-ml name="amendmentReason" required ng-model="document.amendmentReason" locales="document.header.languages"></div>
												</div>
											</div>
										</div>
									</div>
								</section>
	
								<section>
									<div class="well no-shadow bg-white">
									<label for="decisionTypes" style="width:0px;height:0px;display:inline"><span style="display:none">Subject of the decision / notification / communication</span></label>
									<legend>Subject of the decision / notification / communication</legend>								
									<div class="row">
										<div class="col-xs-12">
											<div block-region activate="decisions.otherDecisions.identifier" skip-loading-icon="true" >
												<div class="km-control-group" name="commonDecisions" required caption="Common decisions">
														<div km-term-check required ng-model="decisions.commonDecisions" locales="document.header.languages"
														terms="options.commonDecisions()"  binding-type="term[]" ng-change="onCommonDecisionChanged()"  ></div>
												</div>
											</div>
										</div>
										<div class="col-xs-12">
											<div block-region activate="decisions.commonDecisions.length > 0" skip-loading-icon="true" >
												<div class="km-control-group" name="otherDecisions" required caption="Other decisions, notifications and communications">
													
													<div km-term-radio required ng-model="decisions.otherDecisions" locales="document.header.languages"
														terms="options.otherDecisions()" binding-type="term" show-other="true"></div>
												</div>		
											</div>		
										</div>
									</div></div>
								</section>
	
								<section ng-if="isLmoDecisionForIntentionalIntroduction">
									<div class="well no-shadow bg-white">
										<legend>OVM destin&eacute;s &agrave; une introduction intentionnelle dans l&apos;environnement</legend>
										<div class="row">
											<div class="col-xs-12">
												<div class="km-control-group" name="addressesTransboundaryMovement" required caption="La d&eacute;cision est-elle le r&eacute;sultat d&apos;une demande de mouvement transfronti&egrave;res d&apos;OVM &agrave; destination du pays?">
													<div km-yes-no required ng-model="document.addressesTransboundaryMovement" locales="document.header.languages"></div>
												</div>
											</div>
										</div>		
										<div class="row well no-shadow bg-white" ng-if="document.addressesTransboundaryMovement" style="margin-left:1%">
											<div class="col-xs-12">
												<div class="km-control-group" name="intentionDecisions" required caption="Type de d&eacute;cision">												
													<div km-term-radio required ng-model="decisions.intentionDecisions" locales="document.header.languages"
														terms="options.intentionDecisions()"  binding-type="term" ></div>
												</div>									
											</div>
											<div class="col-sm-12">
												<div class="km-control-group" name="receiptDate"  caption="Date de r&eacute;ception de la notification" style="width:40%">
													<div km-date placeholder="AAAA-MM-JJ" name="receiptDate" required ng-model="document.receiptDate"></div>
												</div>
											</div>
											<div class="col-sm-12">
												<div class="km-control-group" name="receiptAcknowledgementDate"  caption="Date d&apos;envoi de l&apos;accus&eacute; de r&eacute;ception de la notification &agrave; son auteur" style="width:40%">
													<div km-date placeholder="AAAA-MM-JJ" name="receiptAcknowledgementDate" required ng-model="document.receiptAcknowledgementDate"></div>
												</div>
											</div>
											<div class="col-sm-12">
												<div class="km-control-group" name="communicationDate"  caption="Date de communication de la d&eacute;cision &agrave; l&apos;auteur de la notification" style="width:40%">
													<div km-date placeholder="AAAA-MM-JJ" name="communicationDate" required ng-model="document.communicationDate"></div>
												</div>
											</div>
											<div class="col-xs-12">
												<div class="km-control-group" name="exporters" caption="Veuillez fournir les coordonn&eacute;es de l&apos;exportateur">											
													<div document-selector ng-model="document.exporters" question="exporters"
														government="document.government" schema="(contact)"></div>			
												</div>
											</div>
											<div class="col-xs-12">
												<div class="km-control-group" name="importers" caption="Veuillez fournir les coordonn&eacute;es de l&apos;importateur/demandeur">											
													<div document-selector ng-model="document.importers" question="importers"
														government="document.government" schema="(contact)"></div>			
												</div>
											</div>
										</div>
										<div class="row well no-shadow bg-white" ng-if="document.addressesTransboundaryMovement==false"  style="margin-left:1%">
											<div class="col-xs-12">
												<div class="km-control-group" name="appliesToTransboundaryMovement" required caption="La d&eacute;cision s&apos;applique-t-elle aux mouvements transfronti&egrave;res des OVM entrant au pays?">
													<div km-yes-no required ng-model="document.appliesToTransboundaryMovement" locales="document.header.languages"></div>
												</div>
											</div>
											<div class="col-xs-12">
												<div class="km-control-group" name="importers" required caption="Coordonn&eacute;es du demandeur">											
													<div document-selector ng-model="document.importers" question="importers"
														government="document.government" schema="(contact)"></div>			
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-xs-12">
												<div class="km-control-group" name="involvesFieldTrial" caption="La d&eacute;cision pr&eacute;voit-elle des essais sur le terrain?">
													<div km-yes-no required ng-model="document.involvesFieldTrial" locales="document.header.languages"></div>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-xs-12">
												<div class="km-control-group" name="involvesCommercialRelease"  caption="La d&eacute;cision pr&eacute;voit-elle la lib&eacute;ration &agrave; des fins commerciales?">
													<div km-yes-no required ng-model="document.involvesCommercialRelease" locales="document.header.languages"></div>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-xs-12">
												<div class="km-control-group" name="appliesToSubsequentIntroductions" required caption="La d&eacute;cision s&apos;appliquera-t-elle aux introductions subs&eacute;quentes des m&ecirc;mes OVM dans l&apos;environnement?">
													<div km-yes-no required ng-model="document.appliesToSubsequentIntroductions" locales="document.header.languages"></div>
												</div>
											</div>
										</div>							
									</div>
								</section>
								<section ng-if="isLmoDecisionForDirectUse">
									<div class="well no-shadow bg-white">
										<legend>OMV destin&eacute;s &agrave; &ecirc;tre utilis&eacute;s directement pour l&apos;alimentation humaine ou animale ou &agrave; &ecirc;tre transform&eacute;s</legend>
										<div class="row">
											<div class="col-xs-12">
												<div class="km-control-group" name="decisionLMOFFPSubject" required caption="Date de la d&eacute;cision">
													<div class="km-value">
																<div km-term-check required ng-model="document.decisionLMOFFPSubject" locales="document.header.languages"
														terms="options.decisionLMOFFPSubject()"  binding-type="term[]"></div>
													</div>
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-xs-12">
												<div class="km-control-group" name="appliesToTransboundaryMovement" required 
												caption="La d&eacute;cision a-t-elle &eacute;t&eacute; prise en l&apos;absence d&apos;un cadre r&eacute;glementaire national et conform&eacute;ment &agrave; l&apos;article 11.6?">
													<div km-yes-no required ng-model="document.appliesToTransboundaryMovement" locales="document.header.languages"></div>
												</div>
											</div>
										</div>
										<div class="row" ng-if="isLmoDecisionForIntentionalIntroduction">
											<div class="col-xs-12">
												<div class="alert alert-danger"><strong>Note&nbsp;:</strong> The first two categories in the field Subject of the decision / communication at the top of this page have been selected indicating that this record refers to a decision addressing LMOs for both Intentional introduction into the environment (Articles 7-10) AND LMOs-FFPs (Article 11). Accordingly, the fields below, Type of decision and contact details of the importer/exporter or applicant, are therefore not active because the information has already been provided. Should this not be the case, please create two different records, one for intentional introduction into the environment and one for the LMOs-FFPs.</div>
											</div>
										</div>
										<div class="row">
											<div class="col-xs-12">
												<div block-region activate="isLmoDecisionForIntentionalIntroduction" skip-loading-icon="true">
													<div class="row">
														<div class="col-xs-12">
															<div class="km-control-group" name="directUseDecisions" required caption="Type de d&eacute;cision">
																<div class="km-value">
																	<div km-term-check required ng-model="decisions.directUseDecisions" locales="document.header.languages"
																	terms="options.directUseDecisions()"  binding-type="term[]"></div>
																</div>
															</div>											
														</div>
													</div>
													<div class="col-xs-12" ng-if="'0D0BEEF4-54E4-44C1-ABB2-B89DC145E0B3'">
														<div class="km-control-group" name="exporters"  caption="Veuillez fournir les coordonn&eacute;es de l&apos;exportateur">											
															<div document-selector ng-model="document.exporters" question="exporters"
																government="document.government" schema="(contact)"></div>			
														</div>
													</div>
													<div class="col-xs-12">
														<div class="km-control-group" name="importers" required caption="Veuillez fournir les coordonn&eacute;es de l&apos;importateur/demandeur">											
															<div document-selector ng-model="document.importers" question="importers"
																government="document.government" schema="(contact)"></div>			
														</div>
													</div>
													<div class="col-xs-12">
														<div class="km-control-group" name="importers" required caption="Coordonn&eacute;es du demandeur">											
															<div document-selector ng-model="document.importers" question="importers"
																government="document.government" schema="(contact)"></div>			
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</section>
								<section ng-if="isLmoDecisionForIntentionalIntroduction">
									<div class="well no-shadow bg-white">
										<legend>R&eacute;sultat de la d&eacute;cision</legend>
										<div class="row">
											<div class="col-xs-12" >
												<div class="km-control-group" name="decisionResult" required caption="R&eacute;sultat de la d&eacute;cision">												
													<div km-term-radio required ng-model="document.decisionResult" locales="document.header.languages"
														terms="options.decisionResult()" binding-type="term"></div>
												</div>		
											</div>		
										</div>
									</div>
								</section>
								<section ng-if="isLmoDecisionForIntentionalIntroduction">
									<div class="well no-shadow bg-white">
										<legend>&Eacute;valuation des OVM et des risques</legend>
										<div class="row">
											<div class="col-xs-12">
												<div class="km-control-group" name="modifiedOrganisms" required caption="Identification de l&apos;OVM">											
													<div document-selector ng-model="document.modifiedOrganisms" question="modifiedOrganisms"
														government="document.government"  schema="(modifiedOrganism)" skip-government="true"></div>			
												</div>
											</div>
										</div>
										<div class="row">
											<div class="col-xs-12">
												<div class="km-control-group" name="riskAssessments" required caption="&Eacute;valuation des risques">											
													<div document-selector ng-model="document.riskAssessments" question="riskAssessments"
														government="document.government" schema="(riskAssessments)"></div>			
												</div>
											</div>
										</div>
									</div>
								</section>
								<section ng-if="isLmoDecisionForIntentionalIntroduction">
									<div class="well no-shadow bg-white">
										<legend>Decision and/or other relevant document(s)</legend>
										<div class="row">
											<div class="col-sm-12">
												<div class="km-control-group" name="documents" required caption="Document (attached file)">
													<div km-link name="documents" ng-model="document.documents" allow-link="true" allow-file="true" identifier="document.header.identifier"></div>
												</div>
											</div>
										</div>
									</div>
								</section>
	
	
								<section>
									<div class="well no-shadow bg-white">
										<legend>Timeframe for confirmation or updating of information</legend>
										<div class="row">
											<div class="col-sm-12">
												<div class="km-control-group" name="expires" required caption="Should this information be confirmed or updated after two years from the date of submission?">												
													<div km-yes-no required ng-model="document.expires" locales="document.header.languages"></div>
												</div>	
											</div>
										</div>
									</div>
								</section>
		
								<section>
									<div class="well no-shadow bg-white">
										<legend>Information suppl&eacute;mentaire</legend>
										<div class="row">
											<div class="col-sm-12">
												<div class="km-control-group" name="address" caption="Any other relevant information">
													<div class="help-block">Veuillez utiliser ce champ pour tout autre renseignement pertinent n&apos;ayant pas &eacute;t&eacute; abord&eacute; ailleurs dans le dossier.</div>
													<div km-rich-textbox ng-model="document.relevantInformation" rows="4" placeholder="" locales="document.header.languages"></div>
												</div>
											</div>
										</div>
	
										<div class="row">
											<div class="col-sm-12">
												<div class="km-control-group" name="relevantDocuments" caption="Autres documents pertinents">
													<div km-link name="relevantDocuments" ng-model="document.relevantDocuments" allow-link="true" allow-file="true" identifier="document.header.identifier"></div>
												</div>
											</div>
										</div>
									</div>
								</section>
								<section>
									<legend>Notes</legend>
	
									<div class="row">
										<div class="col-sm-12">
											<div class="km-control-group" name="notes">
												<div class="help-block">Le champ «Notes» est destin&eacute; &agrave; vos notes ou commentaires personnels et sera masqu&eacute; lors de la visualisation du fichier. This field is not meant to be used for confidential information.</div>
												<textarea class="form-control" name="notes" ng-model="document.notes" rows="4"></textarea>
											</div>
										</div>
									</div>
								</section>
	
							</div>
						</form>
					</edit-form>
					<review-form>
							<div view-biosafety-decision ng-model="reviewDocument" locale="review.locale" allow-drafts="true"></div>
					</review-form>
				</workflow-arrow-buttons>
			</div>
		</div>
	
</div>
</div>
