<div id="RegisterPage">

    <link href="/app/css/register.css" rel="stylesheet">
    <link href="/app/css/record.css" rel="stylesheet"><span register-top-menu></span><style> .ngdialog-content { background: transparent !important; } .ngdialog.ngdialog-theme-default.wide .ngdialog-content { width: 750px !important; } </style>


    <div ng-controller="nationalUserListController" class="register-content card card-1-notrans">

        <div class="register-content-header bg-darkgrey color-white">
            <div style="padding:10px 10px;">
                <h3>Gestion de l&rsquo;usager <span class="helpinfoInline"><i class="fa fa-info-circle helpicon pull-right" ng-click="showInfo = !showInfo"></i></span></h3><!--help info----------------------------><div ng-if="showInfo" class="well well-help"><strong>Gestion de l&rsquo;usager pour les usagers autoris&eacute;s au CE-APA</strong><p>Cette page permet aux correspondants nationaux (CN) de d&eacute;signer ou de modifier la d&eacute;signation de l&apos;autorit&eacute; de publication ainsi qu&rsquo;elle permet &agrave; l&apos;autorit&eacute; de publication (AP) de d&eacute;signer ou mettre &agrave; jour les utilisateurs nationaux autoris&eacute;s (UNA). Vous trouverez ci-dessous tous les utilisateurs autoris&eacute;s au CE-APA autoris&eacute;s &agrave; travailler sur les fichiers nationaux de votre pays. Vous pouvez s&eacute;lectionner un compte CBD particulier et cliquer sur «&nbsp;&eacute;diter&nbsp;» pour assigner / r&eacute;voquer des r&ocirc;les (par exemple, changer l&apos;autorit&eacute; de publication ou supprimer un NAU). Si une personne poss&eacute;dant d&eacute;j&agrave; un compte CBD n&apos;appara&icirc;t pas en tant qu&apos;usager autoris&eacute; au CE-APA pour votre pays, vous pouvez les trouver en cliquant sur «Ajouter un usager autoris&eacute;». Gr&acirc;ce &agrave; cette fonctionnalit&eacute;, vous pouvez rechercher parmi tous les comptes CBD en utilisant leurs adresses courriel, et leur attribuer un r&ocirc;le de AP ou UNA. Cette fonctionnalit&eacute; vous permet &eacute;galement d&apos;attribuer des r&ocirc;les &agrave; quelqu&apos;un qui n&apos;a pas encore de compte CBD. Pour ce faire, cliquez sur «Ajouter un usager autoris&eacute;» et entrez une adresse couriel l et d&apos;autres renseignements sur la personne que vous souhaitez inclure comme AP ou UNA. Le Centre d&apos;&eacute;change sur l&apos;acc&egrave;s et le partage des avantages leur enverra une demande de courriel automatis&eacute;e pour activer leur compte. Une fois qu&apos;ils ont activ&eacute; leur compte CBD, ils peuvent commencer &agrave; travailler sur les fichiers nationaux.</p><strong>Fonctions des autorit&eacute;s de publication (AE)</strong><p>L&rsquo;AP est responsable de :<ul>
                            <li>Autoriser la publication de tous les documents nationaux enregistr&eacute;s dans le Centre d&apos;&eacute;change sur l&apos;acc&egrave;s et le partage des avantages;</li>
                            <li>Supprimer des enregistrements d&eacute;j&agrave; publi&eacute;s dans le Centre d&apos;&eacute;change sur l&apos;acc&egrave;s et le partage des avantages, le cas &eacute;ch&eacute;ant;</li>
                            <li>Veiller &agrave; ce que les informations mises &agrave; disposition dans le Centre d&apos;&eacute;change sur l&apos;acc&egrave;s et le partage des avantages soient compl&egrave;tes, pertinentes et &agrave; jour; et</li>
                            <li>Veiller &agrave; ce qu&apos;aucune donn&eacute;e confidentielle ne soit publi&eacute;e dans le Centre d&apos;&eacute;change sur l&apos;acc&egrave;s et le partage des avantages. Le Centre d&apos;&eacute;change sur l&apos;acc&egrave;s et le partage des avantages n&apos;h&eacute;berge aucune information confidentielle et toute l&apos;information publi&eacute;e dans le Centre d&apos;&eacute;change sur l&apos;acc&egrave;s et le partage des avantages est accessible au grand public.</li>
                        </ul>
                    </p><strong>Fonctions des usagers nationaux autoris&eacute;s (UNA)</strong><p>La fonction des UNA est d&apos;assister l&apos;AP dans la pr&eacute;paration des projets de fichiers nationaux. Les UNA sont uniquement autoris&eacute;s &agrave; cr&eacute;er et &agrave; g&eacute;rer des documents d&apos;&eacute;bauche qui sont ensuite transmis &agrave; l&apos;AP pour publication.</p>

                </div>
            </div>
        </div>


        <div class="register-content-content">
            <div class="row">


                <div class="col-xs-12" ng-show="error">

                    <div ng-switch="error.code + '-' + error.field">
                        <div class="alert alert-warning" ng-switch-when="mandatory-government"><b>Oups...</b> Vous n&apos;&ecirc;tes pas autoris&eacute; &agrave; acc&eacute;der &agrave; cette page. Cette page est seulement accessible aux usagers nationaux. Veuillez contacter le absch@cbd.int si vous avez besoin d&rsquo;aide.</div>
                        <div class="alert alert-warning" ng-switch-when="forbidden-"><b>Oups...</b> Nous sommes d&eacute;sol&eacute;s, vous n&rsquo;&ecirc;tes pas autoris&eacute; &agrave; acc&eacute;der &agrave; cette page.</div>
                        <div class="alert alert-danger" ng-switch-default><b>Oups...</b> Nous sommes d&eacute;sol&eacute;s, une erreur est survenue. {{error|json}}</div>
                    </div>

                </div>

                <div class="col-sm-offset-8 col-sm-4 col-xs-12" ng-hide="error">

                    <div class="input-group" style="margin-bottom:2px; padding-left: 0px">
                        <input type="text" class="form-control" ng-model="searchText.$" ng-disabled="loading" placeholder="Chercher parmi la liste des usagers nationaux..." /><span class="input-group-addon"><i class="fa fa-search"></i></span></div>
                </div>

                <div class="col-xs-12" ng-hide="error">

                    <table class="table table-striped" style="width:100%">
                        <tr>
                            <th>Usager</th>
                            <th>Organisation/division</th>
                            <th style="max-width:200px">R&ocirc;les</th>
                            <th class="text-right">
                                <button class="btn btn-default" ng-click="search()" ng-disabled="loading || !canAdd()">Ajouter un utilisateur autoris&eacute; <i class="fa fa-plus-circle"></i></button>
                            </th>
                        </tr>
                        <tr ng-repeat="u in users | filter:defaultFilter | filter:searchText | orderBy:sortKey ">
                            <td><b>{{u.firstName}} {{u.lastName}}</b> <br> <a translation-url  href="mailto:{{u.email}}">{{u.email}}</a></td>
                            <td>{{u.organization}}</td>
                            <td><span ng-repeat="rid in u.roles|filter:isContextRole"><span class="label label-default" style="font-size:10px;margin-right:4px">{{roles[rid].name}}</span> <br> </span> <a translation-url  href="#" style="font-size:75%" ng-click="u.showExtraRoles=!u.showExtraRoles" ng-show="(u.roles|filter:isNotContextRole).length"><span ng-show="!u.showExtraRoles">Show additional roles <i class="fa fa-caret-down"></i></span> <span ng-show=" u.showExtraRoles">Hide additional roles <i class="fa fa-caret-up"></i></span></a><div ng-if="u.showExtraRoles"><span ng-repeat="rid in u.roles|filter:isNotContextRole"><span class="label label-info" style="font-size:10px;margin-right:4px">{{roles[rid].name}}</span> <br> </span></div>
                            </td>
                            <td class="text-right">
                                <div class="btn-group" role="group" aria-label="...">
                                    <button class="btn btn-default" ng-click="edit(u)" ng-disabled="!canEdit(u)"><i class="fa fa-list  fa-fw"></i></button>
                                    <button class="btn btn-default" ng-click="dropUser(u)" ng-disabled="!canDrop(u)"><i class="fa fa-trash fa-fw"></i></button>
                                </div>
                            </td>

                        </tr>
                        <tr ng-if="!users">
                            <td colspan="4"><i class="fa fa-cog fa-spin fa-fw"></i> Loading...</td>
                        </tr>
                        <tr ng-if="!!users">
                            <td colspan="3">{{(users | filter:defaultFilter | filter:searchText).length}} of {{users.length}} | <a translation-url  href="#" ng-show="!$parent.showAll" ng-click="$parent.showAll=true;$parent.searchText={}">Afficher plus <i class="fa fa-caret-down"></i></a> <a translation-url  href="#" ng-show=" $parent.showAll" ng-click="$parent.showAll=false;$parent.searchText={}">Afficher moins <i class="fa fa-caret-up"></i></a></td>
                            <td class="text-right">
                                <button class="btn btn-default" ng-click="search()" ng-disabled="loading || !canAdd()">Ajouter un utilisateur autoris&eacute; <i class="fa fa-plus-circle"></i></button>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>

</div>