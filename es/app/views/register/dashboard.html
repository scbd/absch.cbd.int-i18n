<div id="RegisterPage">
    <link href="/app/css/register.css" rel="stylesheet">
    <link href="/app/css/record.css" rel="stylesheet">
    <style>
        .popover {
            margin-top: 3px;
            background-color: #d9534f !important;
            border: 1px solid #ccc;
            border: 1px solid rgba(0, 0, 0, .2);
        }

        .popover.right>.arrow {
            border-right-color: #999;
            border-right-color: rgba(0, 0, 0, .25);
        }

        .popover.right>.arrow:after {
            border-right-color: #d9534f;
        }
        .cursor{
            cursor: pointer;
        }
        .overview>tbody>tr>td{
            padding:3px!important;
            border:0;
        }
        
    </style><span register-top-menu></span><div class="register-content card card-1-notrans">
        <div class="register-content-header bg-darkgrey color-white">
            <div style="padding:10px 10px;">
                <h3>Tablero de control <span class="helpinfoInline"><i class="fa fa-info-circle helpicon pull-right" ng-click="showInfo = !showInfo"></i></span></h3><!--help info----------------------------><div ng-if="showInfo" class="well well-help">
                    <div ng-if="user.government">El Tablero de control permite que los usuarios registrados en el Centro de Intercambio de la Informaci&oacute;n sobre APB encuentren informaci&oacute;n sobre su cuenta, funci&oacute;n y permisos en dicho Centro. Aqu&iacute; se puede tambi&eacute;n actualizar el perfil o cambiar la contrase&ntilde;a. Asimismo, en esta p&aacute;gina se presenta un panorama de todos los registros preparados por los usuarios autorizados de su pa&iacute;s y su diferente estado: publicado, borradores o solicitudes pendientes. Haga clic en la categor&iacute;a de registro que desea ver en mayor detalle o agregue un nuevo registro. <br> <br> Tambi&eacute;n est&aacute; disponible, seg&uacute;n pedido, un sitio de capacitaci&oacute;n para ayudar a los usuarios del Centro de Intercambio de la Informaci&oacute;n sobre APB a familiarizarse con el funcionamiento del Centro sin alterar el contenido del portal oficial.</div>
                    <div ng-if="!user.government">El Tablero de control permite que los usuarios registrados en el Centro de Intercambio de la Informaci&oacute;n sobre APB encuentren informaci&oacute;n sobre su cuenta, funci&oacute;n y permisos en dicho Centro. Aqu&iacute; se puede tambi&eacute;n actualizar el perfil o cambiar la contrase&ntilde;a. Asimismo, en esta p&aacute;gina se presenta un panorama de todos sus registros y su diferente estado: publicado, borradores o solicitudes pendientes. Haga clic en la categor&iacute;a de registro que desea ver en mayor detalle o agregue un nuevo registro. Tambi&eacute;n est&aacute; disponible, seg&uacute;n pedido, un sitio de capacitaci&oacute;n para ayudar a los usuarios del Centro de Intercambio de la Informaci&oacute;n sobre APB a familiarizarse con el funcionamiento del Centro sin alterar el contenido del portal oficial.</div>

                </div>

            </div>
        </div>
        <div class="register-content-content">
            <div class="row well" style="margin:0 0 30px 0">
                <h4 style="padding-bottom:3px;margin-top:0;border-bottom:1px solid #ddd;"><span class="hidden-xs">Welcome </span> <span class="color-black bold">{{user.name}} <span ng-if="roles.isAbsPublishingAuthority" style="font-weight: normal;"> (Publishing Authority)</span><span ng-if="roles.isAbsNationalAuthorizedUser" style="font-weight: normal;"> (Authorized User)</span></span> <span class="pull-right"> <span style="color:#999; cursor: pointer;" class="hidden-xs" ng-click="showProfileInfo=!showProfileInfo">view profile information </span><i class="pull-right fa fa-chevron-circle-down cursor" ng-show="!showProfileInfo" aria-hidden="true" ng-click="showProfileInfo=true"></i><i class="pull-right fa fa-chevron-circle-up cursor"   ng-show="showProfileInfo" aria-hidden="true" ng-click="showProfileInfo=false"></i></span></h4>
                <div class="row" ng-if="showProfileInfo">
                    <div class="col-md-6 cp-header">
                        <table>
                            <tr>
                                <td>
                                    <label>Nombre:</label>
                                </td>
                                <td><strong>{{user.name}}</strong></td>
                            </tr>
                            <tr>
                                <td>
                                    <label>Correo electr&oacute;nico principal:</label>
                                </td>
                                <td><strong>{{user.email}}</strong></td>
                            </tr>
                            <tr>
                                <td>
                                    <label>Afiliaci&oacute;n del pa&iacute;s:</label>
                                </td>
                                <td ng-if="user.government"><a translation-url href="/countries/{{user.government | uppercase}}"><strong>{{userCountry|term}}</strong></a></td>
                                <td ng-if="!user.government"><strong>ninguno</strong></td>
                            </tr>
                        </table>
                    </div>
                    <div class="col-md-6 cp-header">
                        <table>
                            <td>
                                <label>Funci&oacute;n(es):</label>
                            </td>
                            <td><span class="comma" ng-if="roles.isAbsNationalFocalPoint"><strong>ABS National Focal Point </strong><span class="helpinfoInline fa fa-info-circle" data-toggle="tooltip" data-html="true" data-title="El Punto focal nacional sobre APB es responsable del v&iacute;nculo con la Secretar&iacute;a as&iacute; como de designarse a s&iacute; mismo o a otros usuarios como autoridad publicadora en el Centro de Intercambio de Informaci&oacute;n sobre APB."
                                        data-container="body"></span></span> <span class="comma" ng-if="roles.isAbsPublishingAuthority"><strong>National Publishing Authority (PA)</strong><span class="helpinfoInline fa fa-info-circle " data-toggle="tooltip" data-html="true" data-title="Cada pa&iacute;s puede designar una sola autoridad publicadora en el Centro de Intercambio de Informaci&oacute;n sobre APB. La labor de la autoridad publicadora es poner a disposici&oacute;n p&uacute;blicamente informaci&oacute;n en el Centro de Intercambio de Informaci&oacute;n al verificar y publicar registros. Las autoridades publicadoras tambi&eacute;n puede designar a usuarios nacionales autorizados a los que se permite enviar registros en borrador de su pa&iacute;s."
                                        data-container="body"></span></span> <span class="comma" ng-if="roles.isAbsNationalAuthorizedUser"><strong>National Authorized User (NAU)</strong><span class="helpinfoInline fa fa-info-circle" data-toggle="tooltip" data-html="true" data-title="El Punto focal nacional sobre APB es el responsable de designarse a s&iacute; mismo o a otro usuario como la autoridad publicadora; asimismo, es quien se vincula con la Secretar&iacute;a."
                                        data-container="body"></span></span> <span class="comma" ng-if="roles.isUser"><strong>Registered User</strong><span class="helpinfoInline fa fa-info-circle" data-toggle="tooltip" data-html="true" data-title="Los usuarios normales pueden crear registros borradores de referencia y solicitar su publicaci&oacute;n desde la Secretar&iacute;a del CDB."
                                        data-container="body"></span></span> <span class="comma" ng-if="roles.isAbsAdministrator"><strong class="color-pink">ABSCH Admin</strong></span> <span class="comma" ng-if="roles.isAdministrator"><strong class="color-pink">Admin</strong></span></td>
                            </tr>
                            <tr>
                                <td>
                                    <label>Actualizar perfil:</label>
                                </td>
                                <td><a translation-url href="https://accounts.cbd.int/profile" target="_new"><strong>accounts.cbd.int/profile</strong></a></td>
                            </tr>
                            <tr>
                                <td>
                                    <label>Actualizar contrase&ntilde;a:</label>
                                </td>
                                <td><a translation-url href="https://accounts.cbd.int/password" target="_new"><strong>accounts.cbd.int/password</strong></a></td>

                            </tr>
                        </table>
                    </div>
                </div>
            </div>         

            <top-requests ng-if="roles.isAbsNationalFocalPoint || roles.isAbsPublishingAuthority || roles.isAbsAdministrator || roles.isAdministrator" filter="workingDocumentLock/lockedOn ne null" title="Your pending requests" top="3" view-all-url="/register/pending-requests"></top-requests>
            
            <div id="SubmitPage">
                <h4 class="visible-xs" style="padding:3px;margin-top:0;border-bottom:1px solid #ddd;">Panorama sobre registros<div class="row bg-white hidden-xs" style="font-size:12px;padding:5x 0;margin:0;"><span class="pull-right"><span class="label label-danger">&nbsp;</span> Solicitudes</span> <span class="pull-right">&nbsp;&nbsp;<span class="label label-default">&nbsp;</span> Registros&nbsp;en borrador&nbsp;</span> <span class="pull-right"><span class="label label-success">&nbsp;</span> Registros publicados</span></div>
                </h4>

                <div class="row hidden-xs" style="padding:0;margin:0 0 10px 0;border-bottom:1px solid #ddd;">
                    <div>
                        <h4 style="padding:0;margin:0;">Panorama sobre registros</h4>
                    </div>

                </div>

                <div id="menuPlaceholder" ng-if="roles.isUser">
                    <div class="row  bg-grey" style="padding:0;margin:0 0 5px 0;">
                            <table class="overview table" style="width:100%;">
                                    <thead></thead>
                                    <tbody>
                                    <tr>
                                        <td style="min-width:250px;" class="bold">&nbsp; Contacts (People and Organizations) <span href="#" class="helpinfoInline fa fa-info-circle color-litegrey" data-toggle="tooltip" data-html="true" data-title="Published contacts (a person or organization) can be referenced in other records. No obstante, los contactos no pueden crearse a partir de otros registros. You will need to have your contacts published before they are available to be included in other records."
                                                data-container="body"></span></td>
                                        <td style="width:7%;font-size: 12px;" class="hidden-xs text-center bold"> <span class="label label-success"></span> Published</td>
                                        <td style="width:7%;font-size: 12px;" class="hidden-xs text-center bold"> <span class="label label-default"></span> Borradores</div></td>
                                        <td style="width:7%;font-size: 12px;" class="hidden-xs text-center bold"> <span class="label label-danger"></span> Solicitudes</div></td>
                                    </tr>
                                    </tbody>
                                </table> 
                    </div>

                    <table class="overview table" style="width:100%;">
                            <thead></thead>
                            <tbody>
                            <tr>
                                <td style="width:70px;"> 
                                        <div class="btn-group btn-group-xs" style="width:70px;" role="group" >
                                                <button type="button" class="btn btn-xs btn-default" ng-click="showTopRecords($event,'contact')"><i class="fa fa-chevron-circle-down cursor" ng-class="{'fa-chevron-circle-down':!topRecords['contact'], 'fa-chevron-circle-up':topRecords['contact']}"
                                                        aria-hidden="true"></i><button type="button" class="btn btn-xs btn-default" ng-click="gotoNew($event,'contact')"><i class="fa fa-plus"></i></button>
                                                <button type="button" class="btn btn-xs btn-default" ng-click="gotoList($event,'contact')"><i class="fa fa-list"></i></button>
                                        </div>
                                </td>
                                <td style="min-width:180px!important;"><a translation-url href="#" ng-click="gotoList($event,'contact')" class="color-darkgrey" style="font-weight:500;">Contactos (CON)</a></td>
                                <td  style="width:7%;" class="text-center"><a translation-url ng-href="/register/CON/status/published" class="label label-success" ng-class="{'bg-litegrey': facets('contact','publish')===0}">{{facets(&apos;contact&apos;,&apos;publish&apos;)}}</a>  </td>

                                <td   style="width:7%;" class="text-center"><a translation-url ng-href="/register/CON/status/drafts" class="label label-default" ng-class="{'bg-litegrey': Math.max(0, facets('contact','draft') - facets('contact','request'))===0}">{{Math.max(0, facets(&apos;contact&apos;,&apos;draft&apos;) - facets(&apos;contact&apos;,&apos;request&apos;))}}</a> </td>

                                <td  style="width:7%;" class="text-center"><a translation-url ng-href="/register/CON/status/requests" class="label label-danger" ng-class="{'bg-litegrey': facets('contact','request')===0}">{{facets(&apos;contact&apos;,&apos;request&apos;)}}</a></div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <div ng-if="topRecords['contact']" style="position: relative;top:-5px;">
                            <top-records schema="contact" top="10" style="padding-top:5px;" show-schema-name="false"></top-records>
                        </div>
                </div>

                <div id="menuPlaceholder" ng-if="isNationalUser">

                    <div class="row  bg-grey" style="padding:0;margin:20px 0 5px 0;">
                        <div class="bold"><span class="color-blue">&nbsp; Registros nacionales</span> <span href="#" class="helpinfoInline fa fa-info-circle color-litegrey" data-toggle="tooltip" data-html="true" data-title="Los registros nacionales contienen informaci&oacute;n que suele solicitarse que est&eacute; incluida dentro de las obligaciones de una Parte en el Protocolo de Nagoya sobre Acceso a los Recursos Gen&eacute;ticos y Participaci&oacute;n Justa y Equitativa en los Beneficios que se Deriven de su Utilizaci&oacute;n y deben ser validados por la Autoridad publicadora en el Centro de Intercambio de la Informaci&oacute;n sobre APB antes de que se pongan a disposici&oacute;n en dicho Centro."
                                data-container="body"></span></div>
                    </div>

                    <div ng-repeat="schema in nationalSchemas">                    
                        <table class="overview table table-hover" style="width:100%;">
                            <thead></thead>
                            <tbody>
                            <tr>
                                <td style="width:70px;"> 
                                        <div class="btn-group btn-group-xs" style="width:70px;" role="group" >
                                                <button type="button" class="btn btn-xs btn-default" ng-click="showTopRecords($event,schema)"><i class="fa fa-chevron-circle-down cursor" ng-class="{'fa-chevron-circle-down':!topRecords[schema], 'fa-chevron-circle-up':topRecords[schema]}"
                                                        aria-hidden="true"></i><button type="button" class="btn btn-xs btn-default" ng-click="gotoNew($event,schema)"><i class="fa fa-plus"></i></button>
                                                <button type="button" class="btn btn-xs btn-default" ng-click="gotoList($event,schema)"><i class="fa fa-list"></i></button>
                                        </div>
                                </td>
                                <td style="min-width:180px!important;"><a translation-url href="#" ng-click="gotoList($event,schema)" class="color-darkgrey" style="font-weight:500;">{{schema|schemaName}} ({{schema|urlSchemaShortName}})</a></td>
                                <td style="width:7%;" class="text-center"><a translation-url ng-href="/register/{{schema|urlSchemaShortName}}/status/published" class="label label-success" ng-class="{'bg-litegrey': facets(schema,'publish')===0}">{{facets(schema,&apos;publish&apos;)}}</a>  </td>

                                <td style="width:7%;" class="text-center"><a translation-url ng-href="/register/{{schema|urlSchemaShortName}}/status/drafts" class="label label-default" ng-class="{'bg-litegrey': Math.max(0, facets(schema,'draft') - facets(schema,'request'))===0}">{{Math.max(0, facets(schema,&apos;draft&apos;) - facets(schema,&apos;request&apos;))}}</a> </td>

                                <td style="width:7%;" class="text-center"><a translation-url ng-href="/register/{{schema|urlSchemaShortName}}/status/requests" class="label label-danger" ng-class="{'bg-litegrey': facets(schema,'request')===0}">{{facets(schema,&apos;request&apos;)}}</a></div>
                                </td>
                            </tr>
                        </tbody>
                        </table>
                        <div ng-if="topRecords[schema]" style="width:100%">
                            <top-records schema="{{schema}}" top="10" style="padding-top:5px;" show-schema-name="false"></top-records>
                        </div>
                    </div>

                </div>

                <div class="row  bg-grey" style="padding:0;margin:20px 0 5px 0;">
                    <div class="bold"><span class="color-orange">&nbsp; Registros de referencia</span> <span href="#" class="helpinfoInline fa fa-info-circle color-litegrey" data-toggle="tooltip" data-html="true" data-title="Los registros de referencia contienen informaci&oacute;n pertinente para el Protocolo (pero que no ha sido comunicada como obligaciones de una Parte en el marco del Protocolo). Cualquier usuario registrado (incluidos representantes de los gobiernos, comunidades ind&iacute;genas y locales, centros acad&eacute;micos, organizaciones no gubernamentales, instituciones de investigaci&oacute;n, representantes de empresas, etc.) puede poner esta informaci&oacute;n a  disposici&oacute;n del Centro de Intercambio de Informaci&oacute;n sobre Acceso y Participaci&oacute;n en los Beneficios. La Secretar&iacute;a valida todos los registros de referencia antes de que est&eacute;n disponibles en el Centro de Intercambio de Informaci&oacute;n sobre Acceso y Participaci&oacute;n en los Beneficios." data-container="body"></span></div>
                </div>

                <div ng-repeat="schema in referenceSchemas">                    
                        <table class="overview table table-hover" style="width:100%;">
                            <thead></thead>
                            <tbody>
                            <tr>
                                <td style="width:70px;"> 
                                        <div class="btn-group btn-group-xs" style="width:70px;" role="group" >
                                                <button type="button" class="btn btn-xs btn-default" ng-click="showTopRecords($event,schema)"><i class="fa fa-chevron-circle-down cursor" ng-class="{'fa-chevron-circle-down':!topRecords[schema], 'fa-chevron-circle-up':topRecords[schema]}"
                                                        aria-hidden="true"></i><button type="button" class="btn btn-xs btn-default" ng-click="gotoNew($event,schema)"><i class="fa fa-plus"></i></button>
                                                <button type="button" class="btn btn-xs btn-default" ng-click="gotoList($event,schema)"><i class="fa fa-list"></i></button>
                                        </div>
                                </td>
                                <td style="min-width:180px!important;"><a translation-url href="#" ng-click="gotoList($event,schema)" class="color-darkgrey" style="font-weight:500;">{{schema|schemaName}} ({{schema|urlSchemaShortName}})</a></td>
                                <td style="width:7%;" class="text-center"><a translation-url ng-href="/register/{{schema|urlSchemaShortName}}/status/published" class="label label-success" ng-class="{'bg-litegrey': facets(schema,'publish')===0}">{{facets(schema,&apos;publish&apos;)}}</a>  </td>

                                <td style="width:7%;" class="text-center"><a translation-url ng-href="/register/{{schema|urlSchemaShortName}}/status/drafts" class="label label-default" ng-class="{'bg-litegrey': Math.max(0, facets(schema,'draft') - facets(schema,'request'))===0}">{{Math.max(0, facets(schema,&apos;draft&apos;) - facets(schema,&apos;request&apos;))}}</a> </td>

                                <td style="width:7%;" class="text-center"><a translation-url ng-href="/register/{{schema|urlSchemaShortName}}/status/requests" class="label label-danger" ng-class="{'bg-litegrey': facets(schema,'request')===0}">{{facets(schema,&apos;request&apos;)}}</a></div>
                                </td>
                            </tr>
                        </tbody>
                        </table>
                        <div ng-if="topRecords[schema]" style="width:100%">
                            <top-records schema="{{schema}}" top="10" style="padding-top:5px;" show-schema-name="false"></top-records>
                        </div>
                    </div>

            </div>

        </div>
    </div>
</div><!-- controller -->